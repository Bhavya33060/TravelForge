/* BudgetPlanner.css - polished, overlap-free layout for Budget Planner */

/* ---------------- theme variables ---------------- */
:root{
  --bg: #faf3d0;
  --card-bg: #ffffff;
  --muted: #737574;
  --accent1: #3ee3c6;
  --accent2: #ffd166;
  --accent3: #9b5cff;
  --glass: rgba(255,255,255,0.02);
  --panel-border: rgba(11,107,87,0.15);
  --shadow-strong: rgba(2,8,8,0.12);
}

/* ---------------- resets ---------------- */
* { box-sizing: border-box; }
body {
  background: linear-gradient(180deg,#f8f6de 0%, #b4faff 100%);
  color: #0c2b25;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* outer layout */
.budget-planner {
  padding: 28px 20px;
  min-height: 100vh;
  background: linear-gradient(180deg, rgba(222,255,248,0.35), rgba(255,251,231,0.9));
}

/* container */
.container {
  max-width: 1150px;
  margin: 0 auto;
  padding: 4px 12px;
}

/* headings / muted */
.cute-heading { color: #004845; font-weight: 800; letter-spacing: -0.02em; }
.muted { color: var(--muted); font-size: 0.95rem; }

/* grid */
.grid-3 {
  display: grid;
  grid-template-columns: 420px 1fr;
  gap: 18px;
  align-items: start;
}

/* card */
.card {
  background: linear-gradient(180deg,var(--card-bg), #fff);
  border-radius: 12px;
  padding: 18px;
  box-shadow: 0 8px 30px var(--shadow-strong);
  border: 2px solid var(--panel-border);
}

/* inputs/buttons */
.cute-input {
  background: linear-gradient(180deg, rgb(185,255,255), rgb(252,239,195));
  border: 1px solid rgba(0,0,0,0.06);
  padding: 10px 12px;
  border-radius: 10px;
  color: #000;
  font-weight: 600;
  outline: none;
}
.cute-input::placeholder { color: rgba(6,6,6,0.4); font-weight: 500; }

.btn-cute {
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
  border: none;
  color: #05221c;
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 12px 30px rgba(3,18,18,0.18);
}
.btn-ghost {
  background: transparent;
  border: 1px solid rgba(0,0,0,0.06);
  padding: 9px 12px;
  border-radius: 10px;
  color: #0b6b57;
  cursor: pointer;
  font-weight: 700;
}

/* custom select basics (kept) */
.custom-select { position: relative; display: inline-block; min-width: 120px; font-weight: 700; }
.custom-select .trigger {
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  width:100%; background: linear-gradient(180deg, rgba(155,155,155,0.08), rgba(0,0,0,0.02));
  border-radius: 10px; padding: 10px 12px; border: 1px solid rgba(0,0,0,0.04); color:#0b0b0b; cursor:pointer;
}
.custom-select-panel {
  position: absolute; top: calc(100% + 8px); left: 0; width: 100%; z-index: 90;
  background: linear-gradient(180deg, rgba(203,254,254,0.98), rgba(248,248,215,0.98));
  border-radius: 10px; padding: 8px; border: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 18px 40px rgba(0,0,0,0.08); max-height: 260px; overflow: auto;
}

/* list of expenses */
.expenses-grid { display: grid; gap: 10px; margin-top: 6px; }
.expense-item {
  display:flex; justify-content:space-between; align-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,245,0.98));
  border-radius: 10px; padding: 12px; border: 1px solid rgba(0,0,0,0.04);
}

/* progress */
.progress-track { background: rgba(0,0,0,0.06); border-radius:999px; height:10px; overflow:hidden; }
.progress-fill { height:100%; background: linear-gradient(90deg,var(--accent1),var(--accent2)); border-radius:999px; transition: width 360ms ease; }

/* ------------- Chart + Legend: solid, non-overlapping layout ------------- */

/* wrapper that holds chart and legend side-by-side in the right card */
.chart-wrapper-card {
  display: flex;
  gap: 22px;
  align-items: flex-start;    /* align top, prevents vertical centering that causes overlap */
  justify-content: flex-start;
  width: 100%;
  box-sizing: border-box;
  margin-top: 14px;
}

/* chart box: make it a distinct card area with its own stacking context */
.chart-box {
  flex-shrink: 0;
  width: 240px;
  height: 240px;
  min-width: 240px;
  min-height: 240px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,245,0.98));
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.04);
  border: 1px solid rgba(0,0,0,0.04);
  z-index: 1; /* sit under the legend column visually */
  padding: 6px;
}

/* if there's no data */
.chart-empty { color: #8aa8a0; font-weight: 700; font-size: 14px; }

/* legend column (next to chart) */
.chart-legend {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1;
  min-width: 260px;
  box-sizing: border-box;
  z-index: 2; /* legend render above chart box visually but uses normal flow */
}

/* overview row (total + goal) */
.legend-overview {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}
.legend-overview-left, .legend-overview-right { display:flex; flex-direction:column; gap:6px; }
.legend-total { font-weight: 800; font-size: 18px; color: #0b6b57; }
.legend-goal { font-weight: 700; font-size: 16px; color: #0b6b57; }

/* list area: scrollable, fixed max height so it cannot grow and overlap the chart block */
.legend-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 220px;           /* keep legend height contained */
  overflow-y: auto;
  padding-right: 6px;
  scroll-behavior: smooth;
  scrollbar-width: thin;
}

/* each legend row is a full-width grid so values line up and never overlap */
.legend-item {
  display: grid;
  grid-template-columns: 16px 1fr auto auto;
  gap: 12px;
  align-items: center;
  padding: 8px 10px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255,255,255,1), rgba(250,250,245,1));
  border: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 6px 18px rgba(0,0,0,0.03);
  width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
}

/* colour dot */
.legend-dot { width: 14px; height: 14px; border-radius: 50%; flex-shrink: 0; box-shadow: 0 4px 10px rgba(0,0,0,0.04); }

/* label/value styling */
.legend-label { font-weight: 700; color: #0c0c0c; overflow: hidden; text-overflow: ellipsis; }
.legend-value { font-weight: 800; text-align: right; color: #0b6b57; margin-left: 8px; }
.legend-percent { font-weight: 800; color: #333; text-align: right; margin-left: 12px; }

/* actions row under the legend (buttons) */
.legend-actions { display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap; align-items: center; }

/* prevent action buttons' shadow from visually overlapping the legend rows */
.legend-actions .btn-cute { box-shadow: 0 8px 20px rgba(3,18,18,0.12); z-index: 0; }

/* make sure SVGs are visible and not clipped */
.recharts-surface { overflow: visible !important; }

/* responsive adjustments */
@media (max-width: 920px) {
  .grid-3 { grid-template-columns: 1fr; }
  .chart-wrapper-card { flex-direction: column; align-items: center; gap: 14px; }
  .chart-box { width: 220px; height: 220px; min-width: 220px; min-height: 220px; }
  .chart-legend { min-width: unset; width: 100%; }
  .legend-list { max-height: none; overflow: visible; }
}

/* small cosmetic polish */
.legend-list::-webkit-scrollbar { width: 8px; height: 8px; }
.legend-list::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.06); border-radius: 8px; }

/* ensure exported/other floating panels (select panels) have higher z-index than legend list */
.custom-select-panel { z-index: 140 !important; }

/* accessibility focus styles */
.trigger:focus,
.btn-cute:focus,
.btn-ghost:focus,
.cute-input:focus { outline: 3px solid rgba(62,227,198,0.12); outline-offset: 2px; }

/* end of file */
